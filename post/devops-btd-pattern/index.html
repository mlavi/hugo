<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
  <title>
    DevOps BTD Pattern for Continuous Deployment // Mark&#39;s Blog
  </title>

  <link href="http://gmpg.org/xfn/11" rel="profile">
<meta http-equiv="content-type" content="text/html; charset=utf-8">


<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

<meta name="description" content="">
<meta name="keywords" content="">
<meta name="author" content="">

  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/base-min.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/pure-min.css">
  
  
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/pure/0.5.0/grids-responsive-min.css">
  
  

  <link rel="stylesheet" href="http://localhost:1313//css/redlounge.css">
  <link rel="stylesheet" href="http://localhost:1313//css/mlavi.css">
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  <link href='//fonts.googleapis.com/css?family=Raleway:400,200,100,700,300,500,600,800' rel='stylesheet' type='text/css'>
  <link href='//fonts.googleapis.com/css?family=Libre+Baskerville:400,700,400italic' rel='stylesheet' type='text/css'>

  
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../touch-icon-144-precomposed.png">
  <link rel="shortcut icon" href="../../img/blog.ico" alt="/favicon.png" althref="http://findicons.com/icon/205490/blog?id=205517">

  
  <link href="" rel="alternate" type="application/rss+xml" title="Mark&#39;s Blog" />
  <link href="" rel="alternate" type="application/atom+xml" title="Mark&#39;s Blog" />
  <link href="" rel="feed" type="application/atom+xml" title="Mark&#39;s Blog" />

    
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/tomorrow-night-bright.min.css">
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>


  

  

  
</head>

<body>
	

	<div id="layout" class="pure-g">
    <div class="sidebar pure-u-1 pure-u-md-1-4" style="background: black no-repeat url(/img/firefox_nebula.jpg);">
  <div class="header">
    

    
    

    <span style="background: black;">Mark&#39;s Blog</span>
    <nav class="nav">
      <ul class="nav-list">
        <li class="nav-item"><span class="nav-item-separator">//</span><a href="http://localhost:1313/">Home</a></li>
        <li class="nav-item"><span class="nav-item-separator">//</span><a class="subscribe-button icon-feed" href="">Subscribe</a></li>

        
      </ul>
      <ul id="all-tags"><span style="background: black;"><em><stong>Tag Cloud</strong></em></span><br />


<li><a href="../../tags/devops">devops</a><span
 class="decorative-marker">//</span><a
 name="devops">4</a></li>

<li><a href="../../tags/diagram">diagram</a><span
 class="decorative-marker">//</span><a
 name="diagram">3</a></li>

<li><a href="../../tags/automation">automation</a><span
 class="decorative-marker">//</span><a
 name="automation">2</a></li>

<li><a href="../../tags/build">build</a><span
 class="decorative-marker">//</span><a
 name="build">2</a></li>

<li><a href="../../tags/code">code</a><span
 class="decorative-marker">//</span><a
 name="code">1</a></li>

<li><a href="../../tags/career">career</a><span
 class="decorative-marker">//</span><a
 name="career">1</a></li>

<li><a href="../../tags/database">database</a><span
 class="decorative-marker">//</span><a
 name="database">1</a></li>

<li><a href="../../tags/lamp">lamp</a><span
 class="decorative-marker">//</span><a
 name="lamp">1</a></li>

<li><a href="../../tags/pattern">pattern</a><span
 class="decorative-marker">//</span><a
 name="pattern">1</a></li>

<li><a href="../../tags/phing">phing</a><span
 class="decorative-marker">//</span><a
 name="phing">1</a></li>

<li><a href="../../tags/test">test</a><span
 class="decorative-marker">//</span><a
 name="test">1</a></li>

<li><a href="../../tags/cms">cms</a><span
 class="decorative-marker">//</span><a
 name="cms">1</a></li>

<li><a href="../../tags/configuration">configuration</a><span
 class="decorative-marker">//</span><a
 name="configuration">1</a></li>

<li><a href="../../tags/deploy">deploy</a><span
 class="decorative-marker">//</span><a
 name="deploy">1</a></li>

<li><a href="../../tags/html">html</a><span
 class="decorative-marker">//</span><a
 name="html">1</a></li>

<li><a href="../../tags/sgi">sgi</a><span
 class="decorative-marker">//</span><a
 name="sgi">1</a></li>

<li><a href="../../tags/heavy">heavy</a><span
 class="decorative-marker">//</span><a
 name="heavy">1</a></li>

<li><a href="../../tags/infrastructure">infrastructure</a><span
 class="decorative-marker">//</span><a
 name="infrastructure">1</a></li>

<li><a href="../../tags/shipit">shipit</a><span
 class="decorative-marker">//</span><a
 name="shipit">1</a></li>

<li><a href="../../tags/slide">slide</a><span
 class="decorative-marker">//</span><a
 name="slide">1</a></li>

<li><a href="../../tags/container">container</a><span
 class="decorative-marker">//</span><a
 name="container">1</a></li>

<li><a href="../../tags/immutable">immutable</a><span
 class="decorative-marker">//</span><a
 name="immutable">1</a></li>

<li><a href="../../tags/web">web</a><span
 class="decorative-marker">//</span><a
 name="web">1</a></li>

<li><a href="../../tags/webmaster">webmaster</a><span
 class="decorative-marker">//</span><a
 name="webmaster">1</a></li>

<li><a href="../../tags/blog">blog</a><span
 class="decorative-marker">//</span><a
 name="blog">1</a></li>

<li><a href="../../tags/failfast">failfast</a><span
 class="decorative-marker">//</span><a
 name="failfast">1</a></li>

<li><a href="../../tags/about">about</a><span
 class="decorative-marker">//</span><a
 name="about">1</a></li>

<li><a href="../../tags/static">static</a><span
 class="decorative-marker">//</span><a
 name="static">1</a></li>

      </ul>
    </nav>

    
  </div>
</div>

	
	

    <div class="content pure-u-1 pure-u-md-3-4">
		<a name="top"></a>
		

		
			
		    <div id="toc" class="pure-u-1 pure-u-md-1-4">
				<small class="toc-label">Contents</small>
		   	 	<nav id="TableOfContents">
<ul>
<li>
<ul>
<li>
<ul>
<li><a href="#code-flow-and-service-design:8496744675100c630db0dc665f90a3a3">Code Flow and Service Design</a></li>
<li><a href="#btd-build-test-deploy-pattern:8496744675100c630db0dc665f90a3a3">BTD: Build, Test, Deploy Pattern</a></li>
<li><a href="#devops-btd-pattern-for-continuous-deployment:8496744675100c630db0dc665f90a3a3">DevOps BTD Pattern for Continuous Deployment</a></li>
</ul></li>
</ul></li>
</ul>
</nav>
		    </div>
		    
	    
  		<section class="post">
            <h1 class="post-title">
              <a href="../../post/devops-btd-pattern/">DevOps BTD Pattern for Continuous Deployment</a>
            </h1>
            <h3 class="post-subtitle">
            	
            </h3>
            
            	<span class="post-date">
                	<span class="post-date-day"><sup>18</sup></span><span class="post-date-separator">/</span><span class="post-date-month">Mar</span> <span class="post-date-year">2015</span>
            	</span>
            	
            
            	
            

	
	

	

	

        

<p>What happens when you find the same macro and micro pattern in your automation diagram?
 You reinforce your goals to improve code flow and service design on the way to test driven development!</p>

<h3 id="code-flow-and-service-design:8496744675100c630db0dc665f90a3a3">Code Flow and Service Design</h3>

<p>I created the <a href="../devops-automation/">DevOps Automation Diagram</a> to map out the flow of code from
developer to production in a wholly automated manner: better known as continuous deployment.</p>

<p>This map represents the software development life cycle, service deployment, and feedback loops that are
integral to service design. I did this so that I could figure out where best to start work for my
infrastructure as code project and I found a few optimizations by re-factoring the code flow and
moving processes forward in the chain of events.</p>

<p>In doing so, I describe a journey that spans different disciplines of build, test, and deployment:
areas that have been traditionally separated into team or department silos because they represent
the pillars or domains of software development, quality assurance, and operations.</p>

<p><img src="../../img/btd-pattern-traditional.dia.png" alt="BTD Silos - 2015-03-18" />
</p>

<p>Those traditional silos create code friction by introducing manual hand offs and insulating teams
from shared responsibilities, creating barriers to proper service design and life cycle considerations.</p>

<p>&ldquo;It&rsquo;s not my job,&rdquo; &ldquo;it works on my laptop,&rdquo; and &ldquo;I don&rsquo;t like the [other team&rsquo;s] attitude&rdquo; are
verbal indications of code friction. They are blockers for engineers on any team or any domain
to embrace their responsibility for service design over the entire life cycle of code.</p>

<h3 id="btd-build-test-deploy-pattern:8496744675100c630db0dc665f90a3a3">BTD: Build, Test, Deploy Pattern</h3>

<p>We&rsquo;ve talked about breaking down the traditional walls between software development, quality assurance,
and operations by describing a responsibility for all of these teams to embrace all of the disciplines
of BTD (build, test, and deployment) in order to become proper service designers.</p>

<ol>
<li><strong>Build:</strong> SoftwareDeveloper codes functionality and <em>builds</em> the code</li>
<li><strong>Test:</strong> QualityAssurance creates <em>tests</em> for the build artifacts</li>
<li><strong>Deploy:</strong> Operations <em>deploys</em> the artifacts</li>
</ol>

<p>I call this the BTD pattern, <strong>but astute readers will note it should be the TBD pattern</strong> because we want to achieve test driven development of code, tests, and operations.</p>

<p>BTD is nothing revelatory, it is the traditional pipeline for software development.
The <a href="../devops-automation/">DevOps Automation Diagram</a> at a high level <em>is</em> a BTD pattern,
but we will examine it further and find that BTD should exist in each domain.</p>

<p>What is wrong with the BTD pattern? Nothing except how it has been implemented as traditional roles and hand-offs, e.g.:</p>

<p><img src="../../img/btd_silos.pu.png" alt="BTD Silos - 2015-03-18" />
</p>

<p>&hellip;you can see the traditional silos and you can see all of the potential inefficiencies to remedy a bug.
The cost and time to fix increases the further the bug is discovered from the developer.</p>

<h3 id="devops-btd-pattern-for-continuous-deployment:8496744675100c630db0dc665f90a3a3">DevOps BTD Pattern for Continuous Deployment</h3>

<p>We need to prevent bugs from happening in deployment, in test, and in development.</p>

<ul>
<li>Did operations create a deployment bug? How did they test it?</li>
<li>Did quality assurance develop a good test? How do you test the tests?</li>
</ul>

<p>BTD must be applied at the build domain, at the test domain, and at the deploy domain.</p>

<p><img src="../../img/btd-pattern.dia.png" alt="BTD Pattern - 2015-03-18" />
</p>

<p>This is why everything is testable, buildable, and deployable on the developer laptop in the
<a href="../devops-automation/">DevOps Automation Diagram</a>.
The traditional software developer or recent college graduate, system administrator, or quality engineer
does not code tests, code deployment, and code builds, then test deployments and test builds &ndash; <strong>but they should!</strong>
The DevOps engineer must test monitors, deployments, and builds as well.
This expanded skill set must be part of the engineering culture for service design and imbued into all.</p>

<p><strong>SoftwareDeveloper</strong> codes and performs BTD:</p>

<ol>
<li>BDD feature descriptions (with help from product management, customer support, and sales)</li>
<li>TDD unit test cases + test data (with help from QualityAssurance)</li>
<li>Build jobs</li>
<li>Functionality</li>
<li>Related logs, metrics, and monitors for internal SLAs (with help from Operations)</li>
<li>Deployable and configurable artifacts (with help from Operations)</li>
</ol>

<p><strong>QualityAssurance</strong> codes and performs BTD:</p>

<ol>
<li>Test plan</li>
<li>Test cases and test data (with help from SoftwareDevelopers) that leverage logs, monitors, and metrics</li>
<li>Test and periodic test jobs</li>
<li>Integration tests (with help from SoftwareDevelopers)</li>
<li>Deployment tests (with help from Operations)</li>
</ol>

<p><strong>Operations</strong> codes and performs BTD:</p>

<ol>
<li>Deployment Tools and tests</li>
<li>Server OS builds, run times, and dependencies</li>
<li>Configuration Management and tests</li>
<li>Deployment Orchestration (automated run books) and tests</li>
<li>Monitors and escalations (which are akin to integration tests)</li>
<li>Logging and Metric reports (which are akin to service level agreements)</li>
</ol>

<p>I am sure there is more, but this is a very good start to a robust service design organization for continuous deployment!</p>

	
	

	
		<div class="tags-list">
		<span class="dark-red">Tags</span><span class="decorative-marker">//</span>
		
                <a class="post-tag post-tag-devops" href="http://localhost:1313//tags/devops">DevOps</a>,
                
                <a class="post-tag post-tag-build" href="http://localhost:1313//tags/build">build</a>,
                
                <a class="post-tag post-tag-test" href="http://localhost:1313//tags/test">test</a>,
                
                <a class="post-tag post-tag-deploy" href="http://localhost:1313//tags/deploy">deploy</a>,
                
                <a class="post-tag post-tag-pattern" href="http://localhost:1313//tags/pattern">pattern</a>,
                
		</div>
	

	
		<div class="paging">
		<span class="paging-label">More Reading</span>
		
			<div class="paging-newer">
			<span class="dark-red">Newer</span><span class="decorative-marker">//</span>
			<a class="paging-link" href="../../post/container-infrastructure-strategy/">Container Infrastructure Strategy</a>
	            </div>
            

		
			<div class="paging-older">
			<span class="dark-red">Older</span><span class="decorative-marker">//</span>
	            <a class="paging-link" href="../../post/devops-automation/">Today&#39;s DevOps Automation Diagram</a>
	            </div>
            
            </div>
            
          </section>
          
          	
          
        
      <div class="footer">
	<hr class="thin" />
	<div class="pure-menu pure-menu-horizontal pure-menu-open">
		<ul class="footer-menu">
		
		</ul>
	</div>

	<p>&copy; 2015. All rights reserved. </p>
</div>
    </div>
  </div>
	

	

  
<script data-no-instant>document.write('<script src="http://'
        + (location.host || 'localhost').split(':')[0]
		+ ':1313/livereload.js?mindelay=10"></'
        + 'script>')</script></body>
</html>
